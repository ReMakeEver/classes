<html>
<head>
<!-- 
   New Perspectives on JavaScript
   Tutorial 7
   Case Problem 3

   Conference Registration Form
   Author: Rajiv Rammohan
   Date:   3/1/2007

   Filename:         conf.htm
   Supporting files: back.jpg, conf.css, edge.jpg, links.jpg, logo.jpg
-->
<title>Conference Registration Form</title>
<link href="conf.css" rel="stylesheet" type="text/css" />

<script type="text/javascript">

function calcCost() {
   rform = document.reg;
   cost = 145;
   cost += rform.guests.selectedIndex*30;
   if (rform.member[0].checked) cost-=25;
 
   rform.total.value = cost;
}
   
function testLength(field) {
   if (field.value.length == 0) {
      field.style.backgroundColor="yellow";
      return false;
   } else {
      field.style.backgroundColor="white";
      return true;
   }
}

function testPattern(field, reg) {
   if (reg.test(field.value)==false) {
      field.style.backgroundColor="yellow";
      field.style.color="red";
      return false;
   } else {
      field.style.backgroundColor="white";
      field.style.color="black";
      return true;
   }
}

function submitForm() {
   valid = true;
   rform = document.reg;
   
   if (testLength(rform.fname)==false) valid=false;
   if (testLength(rform.lname)==false) valid=false;
   if (testLength(rform.address)==false) valid=false;  
   if (testLength(rform.email)==false) valid=false; 
   if (testPattern(rform.phone1,/^\d{3}$/)==false) valid=false; 
   if (testPattern(rform.phone2,/^\d{3}$/)==false) valid=false; 
   if (testPattern(rform.phone3,/^\d{4}$/)==false) valid=false; 

   if ((rform.member[0].checked || rform.member[1].checked)== false) {
      rform.member[0].style.backgroundColor="yellow";
      rform.member[1].style.backgroundColor="yellow";
      valid=false;
   }

   if (valid == false) alert("Enter all required information in the appropriate format");
   else calcCost();

   return valid;
}


</script>
</head>

<body>
<div id="links"><img src="links.jpg" alt="" /></div>
<div id="head"><img src="logo.jpg" alt="CGIP Annual Conference" /></div>
<div id="edge"><img src="edge.jpg" alt="" /></div>
<div id="main">
<p id="intro"><b>10th Annual Conference of Computer Graphics and Image Processing</b><br />
   University of Colorado, Boulder<br />
   March 3 - March 7<br />
   Conference Fee: $145
</p>
<h1>Conference Registration Form</h1>

<form id="reg" name="reg" method="get" action="summary.htm" onsubmit="return submitForm()">
<input type="hidden" id="total" name="total" />

<table>
<tr>
   <td><span>*</span>First Name</td>
   <td><input name="fname" id="fname" /></td>
   <td style="text-align: right"><span>*</span>Last</td>
   <td><input name="lname" id="lname" /></td>
</tr>
<tr>
   <td id="add"><span>*</span>Address</td>
   <td colspan="3"><textarea id="address" name="address"></textarea></td>
</tr>
<tr>
   <td><span>*</span>E-mail</td>
   <td colspan="3"><input name="email" id="email" /></td>
</tr>
<tr>
   <td><span>*</span>Phone Number</td>
   <td colspan="3">
       <input id="phone1" name="phone1" size="3" />
       <input id="phone2" name="phone2" size="3" /> - 
       <input id="phone3" name="phone3" size="4" />
   </td>
</tr>
<tr>
   <td colspan="3">Number attending banquet (add $30 per person)</td>
   <td>
       <select id="guests" name="guests">
       <option>0</option>
       <option>1</option>
       <option>2</option>
       <option>3</option>
       <option>4</option>
       <option>5</option>
       <option>6</option>
       <option>7</option>
       <option>8</option>
       <option>9</option>
       <option>10</option>
       </select>
   </td>
</tr>
<tr>
   <td colspan="3"><span>*</span>Member of ACGIP (save $25 on registration fee)</td>
   <td>
       <input type="radio" name="member" value="yes" /> Yes
       <input type="radio" name="member" value="no" /> No
   </td>
   
</tr>
</table>

<p><span>* Required Information</span></p>
<p style="text-align: center"><input id="sbutton" type="submit" value="continue" /></p>
</form>

</div>
</body>
</html>