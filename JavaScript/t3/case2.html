<!DOCTYPE html>
 <html>
  <head>
   <title>Congressional Races</title>
   <link href="css1/results.css" rel="stylesheet" type="text/css" />
   <script type="text/javascript" src="js1/votes.js"></script>
   <script>
    function totalVotes(votes){
     var total=0;
     for(var i=0;i<votes.length;i++) total+=votes[i];
     return total;
    }
    function calcPercent(item, sum){
     return Math.round(100*item/sum);
    }
    function createBar(partyType, percent){
     switch(partyType){
      case "D": barText="<td class='dem'> </td>";break;
      case "R": barText="<td class='rep'> </td>";break;
      case "I": barText="<td class='ind'> </td>";break;
      case "G": barText="<td class='green'> </td>";break;
      case "L": barText="<td class='lib'> </td>";break;
     }
     for(var j=1;j<=percent;j++) document.write(barText);
    }
    function showResults(race,votes){
     var totalV=totalVotes(votes);
     document.write("<h2>"+race+"</h2>");
     document.write("<table cellspacing='0'>");
     document.write("<tr><th>Candidate</th><th class='num'>Votes</th><th class=num'>%</th></tr>");
     if(race=="1st Congressional District"){
      for(var i=0;i<name1.length;i++){
       document.write("<tr>");
       document.write("<td>"+name1[i].substring()+" ("+party1[i].substring()+")</td>");
       document.write("<td class='num'>"+votes1[i].substring+")</td>");
       var percent = calcPercent(votes1[i].substring,totalV);
       document.write("<td class='num'>("+percent+"%)</td>");
       createBar(party1[i].substring,percent);
       document.write("</tr>");
      }
     }
     if(race=="2nd Congressional District"){
      for(var i=0;i<name2.length;i++){
       document.write("<tr>");
       document.write("<td>"+name2[i]+" ("+party2[i]+")</td>");
       document.write("<td class='num'>"+votes2[i]+")</td>");
       var percent = calcPercent(votes2[i],totalV);
       document.write("<td class='num'>("+percent+"%)</td>");
       createBar(party2[i],percent);
       document.write("</tr>");
      }
     }
     if(race=="3rd Congressional District"){
      for(var i=0;i<name3.length;i++){
       document.write("<tr>");
       document.write("<td>"+name3[i]+" ("+party3[i]+")</td>");
       document.write("<td class='num'>"+votes3[i]+")</td>");
       var percent = calcPercent(votes3[i],totalV);
       document.write("<td class='num'>("+percent+"%)</td>");
       createBar(party3[i],percent);
       document.write("</tr>");
      }
     }
     if(race=="4th Congressional District"){
      for(var i=0;i<name4.length;i++){
       document.write("<tr>");
       document.write("<td>"+name4[i]+" ("+party4[i]+")</td>");
       document.write("<td class='num'>"+votes4[i]+")</td>");
       var percent = calcPercent(votes4[i],totalV);
       document.write("<td class='num'>("+percent+"%)</td>");
       createBar(party4[i],percent);
       document.write("</tr>");
      }
     }
     if(race=="5th Congressional District"){
      for(var i=0;i<name5.length;i++){
       document.write("<tr>");
       document.write("<td>"+name5[i]+" ("+party5[i]+")</td>");
       document.write("<td class='num'>"+votes5[i]+")</td>");
       var percent = calcPercent(votes5[i],totalV);
       document.write("<td class='num'>("+percent+"%)</td>");
       createBar(part5[i],percent);
       document.write("</tr>");
      }
     }
     document.wrtie("</table>");
    }
   </script>
  </head>
  <body>
   <div id="intro">
    <p><img src="img1/logo2.jpg" alt="Election Day Rules" /></p>
    <p><a href="#">Election Home Page</a></p>
    <p><a href="#">President</a></p>
    <p><a href="#">Senate Races</a></p>
    <p><a href="#">Congressional Races</a></p>
    <p><a href="#">State Senate</a></p>
    <p><a href="#">State House</a></p>
    <p><a href="#">Judicial</a></p>
    <p><a href="#">Referendums</a></p>
   </div>
   <div id="results">
    <h1>Congressional Races</h1>
    <script>
    showResults(races[0],votes1);
    showResults(races[1],votes2);
    showResults(races[2],votes3);
    showResults(races[3],votes4);
    showResults(races[4],votes5);
   </script>
  </body>
 </html>
