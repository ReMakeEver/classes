<!DOCTYPE html>
 <html>
  <head>
   <title>Congressional Races</title>
   <link href="css1/results.css" rel="stylesheet" type="text/css" />
   <script type="text/javascript" src="js1/votes.js"></script>
   <script>
    function totalVotes(votes){
     var total=0;
     for(var i=0;i<votes.length;i++) total+=votes[i];
     return total;
    }
    function calcPercent(item, sum){
     return Math.round(100*item/sum);
    }
    function createBar(partyType, percent){
     switch(partyType){
      case "D": barText="<td class='dem'> </td>";break;
      case "R": barText="<td class='rep'> </td>";break;
      case "I": barText="<td class='ind'> </td>";break;
      case "G": barText="<td class='green'> </td>";break;
      case "L": barText="<td class='lib'> </td>";break;
     }
     for(var j=1;j<=percent;j++) document.write(barText);
    }
    function showResults(race, name, party, votes){
     var totalV=totalVotes(votes);
     document.write("<h2>"+race+"</h2>");
     document.write("<table cellspacing='0'>");
     document.write("<tr><th>Candidate</th><th class='num'>Votes</th><th class=num'>%</th></tr>");
     for(var i=0;i<name.length;i++){
      document.write("<tr>");
      document.write("<td>"+name[i]+" ("+party[i]+")</td>");
      document.wrtie("<td class='num'>"+votes[i]+"</td>");
      var percent = calcPercen(votes[i], totalV);
      document.write("<td class='num'>("+percent+"%)</td>");
      createBar(party[i], percent);
      document.write("</tr>");
     }
     document.write("</table>");
    }
   </script>
  </head>
  <body>
   <div id="intro">
    <p><img src="img1/logo2.jpg" alt="Election Day Rules" /></p>
    <p><a href="#">Election Home Page</a></p>
    <p><a href="#">President</a></p>
    <p><a href="#">Senate Races</a></p>
    <p><a href="#">Congressional Races</a></p>
    <p><a href="#">State Senate</a></p>
    <p><a href="#">State House</a></p>
    <p><a href="#">Judicial</a></p>
    <p><a href="#">Referendums</a></p>
   </div>
   <div id="results">
    <h1>Congressional Races</a></h1>
    <script>
     showResults(race[0],name1,party1,votes1);
     showResults(race[1],name2,party2,votes2);
     showResults(race[2],name3,party3,votes3);
     showResults(race[3],name4,party4,votes4);
     showResults(race[4],name5,party5,votes5);
    </script>
   </div>
  </body>
 </html>
otal+=votes[i];
     return total;
    }
    function calcPercent(item, sum){
     return Math.round(100*item/sum);
    }
    function createBar(partyType, percent){
     switch(partyType){
      case "D": barText="<td class='dem'> </td>";break;
      case "R": barText="<td class='rep'> </td>";break;
      case "I": barText="<td class='ind'> </td>";break;
      case "G": barText="<td class='green'> </td>";break;
      case "L": barText="<td class='lib'> </td>";break;
     }
     for(var j=1;j<=percent;j++) document.write(barText);
    }
    function showResults(race, name, party, votes){
     var totalV=totalVotes(votes);
     document.write("<h2>"+race+"</h2>");
     document.write("<table cellspacing='0'>");
     document.write("<tr><th>Candidate</th><th class='num'>Votes</th><th class=num'>%</th></tr>");
     for(var i=0;i<name.length;i++){
      document.write("<tr>");
      document.write("<td>"+name[i]+" ("+party[i]+")</td>");
      document.wrtie("<td class='num'>"+votes[i]+"</td>");
      var percent = calcPercen(votes[i], totalV);
      document.write("<td class='num'>("+percent+"%)</td>");
      createBar(party[i], percent);
      document.write("</tr>");
     }
     document.write("</table>");
    }
   </script>
  </head>
  <body>
   <div id="intro">
    <p><img src="img1/logo2.jpg" alt="Election Day Rules" /></p>
    <p><a href="#">Election Home Page</a></p>
    <p><a href="#">President</a></p>
    <p><a href="#">Senate Races</a></p>
    <p><a href="#">Congressional Races</a></p>
    <p><a href="#">State Senate</a></p>
    <p><a href="#">State House</a></p>
    <p><a href="#">Judicial</a></p>
    <p><a href="#">Referendums</a></p>
   </div>
   <div id="results">
    <h1>Congressional Races</a></h1>
    <script>
     showResults(race[0],name1,party1,votes1);
     showResults(race[1],name2,party2,votes2);
     showResults(race[2],name3,party3,votes3);
     showResults(race[3],name4,party4,votes4);
     showResults(race[4],name5,party5,votes5);
    </script>
   </div>
  </body>
 </html>
